<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://www.lunasdk.org/api/class_luna_1_1_hash_map/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Luna::HashMap - Luna SDK Docs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Luna::HashMap";
        var mkdocs_page_input_path = "api\\class_luna_1_1_hash_map.md";
        var mkdocs_page_url = "/api/class_luna_1_1_hash_map/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Luna SDK Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../license/">License</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Manual</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Introduction</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/introduction/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/introduction/getting_started/">Getting Started</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Basics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/">Basics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/coding_convention/">Coding Convention</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/initialization_and_shutdown/">Initialization and Shutdown</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/basic_types/">Basic Types</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/strings/">Strings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/memory_management/">Memory Management</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/modules/">Modules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/variants/">Variants</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/type_system/">Type System</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/serialization_and_deserialization/">Serialization and Deserialization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/boxed_objects/">Boxed Objects</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/interfaces/">Interfaces</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/error_handling/">Error Handling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/assertions/">Assertions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/file_management/">File Management</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/thread_and_synchronization_objects/">Thread and Synchronization Objects</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/time/">Time</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/logs/">Logs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/basics/math_library/">Math Library</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">RHI</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/">RHI</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/devices/">Devices</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/command_queues_and_command_buffers/">Command Queues and Command Buffers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/resources/">Resources</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/pipeline_configuration/">Pipeline Configuration</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/recording_commands/">Recording Commands</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../manual/rhi/shader_resource_binding/">Shader Resource Binding</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Programming Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../runtime/">Runtime</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../window/">Window</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../r_h_i/">RHI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../shader_compiler/">ShaderCompiler</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../v_f_s/">VFS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../asset/">Asset</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../h_i_d/">HID</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../a_h_i/">AHI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../job_system/">JobSystem</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../font/">Font</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../image/">Image</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../obj_loader/">ObjLoader</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../r_g/">RG</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../variant_utils/">VariantUtils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../v_g/">VG</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Luna SDK Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Luna::HashMap</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="lunahashmap">Luna::HashMap</h1>
<p>An container that contains key-value pairs with unique keys using open-addressing hashing algorithm. </p>
<pre><code class="language-c++">template &lt;typename _Kty, typename _Ty, typename _Hash, typename _KeyEqual, typename _Alloc&gt;
class Luna::HashMap
</code></pre>
<h2 id="remark">Remark</h2>
<p>LunaSDK provides two kinds of hashing-based containers: open-addressing containers and closed-addressing containers. The following containers are open-addressing containers, implemented using Robinhood hashing:</p>
<ol>
<li>
<p><a href="./">HashMap</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_set/">HashSet</a></p>
</li>
<li>
<p>SelfIndexedHashmap The following containers are closed-addressing containers, implemented using buckets and per-bucket linked-lists:</p>
</li>
<li>
<p><a href="../class_luna_1_1_unordered_map/">UnorderedMap</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_unordered_set/">UnorderedSet</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_unordered_multi_map/">UnorderedMultiMap</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_unordered_multi_set/">UnorderedMultiSet</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_self_indexed_unordered_map/">SelfIndexedUnorderedMap</a></p>
</li>
<li>
<p><a href="../class_luna_1_1_self_indexed_unordered_multi_map/">SelfIndexedUnorderedMultiMap</a></p>
</li>
</ol>
<p>Open addressing (also known as closed hashing) algorithms store elements directly in hash table arrays, while closed addressing (also known as open hashing) algorithms allocate dedicated memory for every element, and stores pointers to such elements in hash table arrays. In open-addressing containers, one hash table slot can only store on element, the second element with the same hash value must be relocated to another empty slot; in closed-addressing containers, all elements with the same hash value can be stored in the same hash table slot, usually stored as linked lists. See <a href="https://programming.guide/hash-tables-open-vs-closed-addressing.html">Open vs Closed Addressing</a> for a detailed comparison of open addressing and closed addressing.</p>
<p>Prefer <a href="./">HashMap</a> and <a href="../class_luna_1_1_hash_set/">HashSet</a> instead of <a href="../class_luna_1_1_unordered_map/">UnorderedMap</a> and <a href="../class_luna_1_1_unordered_set/">UnorderedSet</a>, since it performs better in memory fragmentation, memory locality and cache performance. Use <a href="../class_luna_1_1_unordered_map/">UnorderedMap</a> and <a href="../class_luna_1_1_unordered_set/">UnorderedSet</a> if you have the following requirements:</p>
<ol>
<li>
<p>You want to insert multiple elements with the same key to the map, which is only supported by closed-addressing maps. Use <a href="../class_luna_1_1_unordered_multi_map/">UnorderedMultiMap</a>, <a href="../class_luna_1_1_self_indexed_unordered_multi_map/">SelfIndexedUnorderedMultiMap</a> and <a href="../class_luna_1_1_unordered_multi_set/">UnorderedMultiSet</a> in such case.</p>
</li>
<li>
<p>You element type has very big size, usually larger than 256, causing allocating element memory in data table become unacceptable because it will waste a lot of memory when the load factor is low. Closed-addressing maps only allocate memory for alive elements, making it consuming much less memory than open-addressing maps when the element size is big. Closed-addressing maps also support extracting element nodes from one map and insert them to another maps without the need of allocating memory for elements, making it efficient to transfer elements between maps. </p>
</li>
</ol>
<h2 id="member-functions">Member functions</h2>
<ul>
<li>
<p><a href="../class_luna_1_1_hash_map_1a8e7da885280257b837a2de2b94e02fcd/">HashMap()</a></p>
<p>Constructs an empty map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a94faee862d13b8063b31b884435eed05/">HashMap(const allocator_type &amp;alloc)</a></p>
<p>Constructs an empty map with an custom allocator. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a78b0dadb3f961dd5f665d295f90f9391/">HashMap(const HashMap &amp;rhs)</a></p>
<p>Constructs a map by coping elements from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a01ee6fafc0882937510946f626f6bc9e/">HashMap(const HashMap &amp;rhs, const allocator_type &amp;alloc)</a></p>
<p>Constructs a map with an custom allocator and with elements copied from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ae8fa1ee213412e9dd0bce31f3837a3eb/">HashMap(HashMap &amp;&amp;rhs)</a></p>
<p>Constructs a map by moving elements from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aecfd83a95d996d423d5e746946c27fff/">HashMap(HashMap &amp;&amp;rhs, const allocator_type &amp;alloc)</a></p>
<p>Constructs a map with an custom allocator and with elements moved from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ab66c4c58784d209e1bd33fdf4f794056/">HashMap &amp; operator=(const HashMap &amp;rhs)</a></p>
<p>Replaces elements of the map by coping elements from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a1bdcfce84379a6f8aca122d1b52cd33a/">HashMap &amp; operator=(HashMap &amp;&amp;rhs)</a></p>
<p>Replaces elements of the map by moving elements from another map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ad69bd11391be1a1dba5c8202259664f8/">iterator begin()</a></p>
<p>Gets one iterator to the first element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a29305669b60ca1680752e2fc3592ba99/">const_iterator begin() const</a></p>
<p>Gets one constant iterator to the first element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a39112ae08f6ffc7ee58c6aa79772e094/">const_iterator cbegin() const</a></p>
<p>Gets one constant iterator to the first element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1acad38d52497a975bfb6f2f6acd76631f/">iterator end()</a></p>
<p>Gets one iterator to the one past last element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1accf9a4bd0c34d4a5f6a7dab66ea10cdc/">const_iterator end() const</a></p>
<p>Gets one constant iterator to the one past last element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a93791e61ab486b4022c389d634b4facc/">const_iterator cend() const</a></p>
<p>Gets one constant iterator to the one past last element of the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a644718bb2fb240de962dc3c9a1fdf0dc/">bool empty() const</a></p>
<p>Checks whether this map is empty, that is, the size of this map is <code>0</code>. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a79348f1b7c06b34052b42656a0279429/">usize size() const</a></p>
<p>Gets the size of the map, that is, the number of elements in the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ad96bf59cb22e917cbd210ba068e8acb3/">usize capacity() const</a></p>
<p>Gets the capacity of the map, that is, the number of elements the hash table can hold before expanding the hash table. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ace4cb83fbe1efc093ab5cd0180cc6868/">usize hash_table_size() const</a></p>
<p>Gets the hash table size of the map, that is, the number of slots of the hash table array. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a98c20997abc3070d80e9c2e70afa0493/">f32 load_factor() const</a></p>
<p>Gets the load factor of the map, which can be computed by <code>(f32)size() / (f32)hash_table_size()</code>. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aebb6ef2d39e739cc28a67244e423a3a8/">f32 max_load_factor() const</a></p>
<p>Gets the maximum load factor allowed for the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a9102a0c114eea9587ad22afc2a1ccc3c/">void max_load_factor(f32 ml)</a></p>
<p>Sets the maximum load factor allowed for the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ac8bb3912a3ce86b15842e79d0b421204/">void clear()</a></p>
<p>Removes all elements in the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a5f16304f80b6fb253c7b0ead3e16dd18/">void shrink_to_fit()</a></p>
<p>Reduces the hash table size to a minimum value that satisfy the maximum load factor limitation. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a72ffe2880da1c06d22d90000f9720967/">hasher hash_function() const</a></p>
<p>Gets the hash function used by this map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a10b2be386447b0ab61e83d0f5527b688/">key_equal key_eq() const</a></p>
<p>Gets the equality comparison function used by this map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1adf0955ccf1cdbb66fd3e51036166efbb/">void rehash(usize new_data_table_size)</a></p>
<p>Changes the data table size and rehashes all elements to insert them to the new data table. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aa1c32ac6498d3f6d21cab98d1cbf3455/">void reserve(usize new_cap)</a></p>
<p>Expands the data table size to the specified value. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a9c9766a96c492f3e9e5861d6b4f87387/">iterator find(const key_type &amp;key)</a></p>
<p>Finds the specified element in the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1af2a080484f0b756af6f218c0e6bae306/">const_iterator find(const key_type &amp;key) const</a></p>
<p>Finds the specified element in the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a2d5dc5e3872df3149f3c3ac730ff5607/">usize count(const key_type &amp;key) const</a></p>
<p>Gets the number of elements whose key is equal to the specified key. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aa0b05f4f6c691fbe71159c631dded53b/">bool contains(const key_type &amp;key) const</a></p>
<p>Checks whether at least one element with the specified key exists. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a45549ac2883165244dbc0005a33dac64/">Pair&lt; iterator, bool &gt; insert(const value_type &amp;value)</a></p>
<p>Inserts the specified key-value pair to the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1adfc3632f295d0c500bafbe68b91757f8/">Pair&lt; iterator, bool &gt; insert(value_type &amp;&amp;value)</a></p>
<p>Inserts the specified key-value pair to the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aad213718c308bedbbf92cb81e182cf54/">Pair&lt; iterator, bool &gt; insert_or_assign(const key_type &amp;key, _M &amp;&amp;value)</a></p>
<p>Assigns the value to the element with the specified key, or inserts the key-value pair to the map if such element is not found. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1aec69432164a51529a980ba873fbc0c64/">Pair&lt; iterator, bool &gt; insert_or_assign(key_type &amp;&amp;key, _M &amp;&amp;value)</a></p>
<p>Assigns the value to the element with the specified key, or inserts the key-value pair to the map if such element is not found. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a044dbf1291b7cfaae7c7f433d582f937/">Pair&lt; iterator, bool &gt; emplace(_Args &amp;&amp;... args)</a></p>
<p>Constructs one element directly in the map using the provided arguments. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a29790c28710ec0e64b48c2f4edd0b08c/">iterator erase(const_iterator pos)</a></p>
<p>Removes one element from the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a34dd266404ddfcb1683866f0c203904e/">usize erase(const key_type &amp;key)</a></p>
<p>Removes elements with the specified key from the map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1ab26678fec10dd0e3974550c754cf0124/">void swap(HashMap &amp;rhs)</a></p>
<p>Swaps elements of this map with the specified map. </p>
</li>
<li>
<p><a href="../class_luna_1_1_hash_map_1a6e99c6263568d88f95ca01dc694f1051/">allocator_type get_allocator() const</a></p>
<p>Gets the allocator used by this map. </p>
</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
